<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .modal{
            position: fixed;
            top:50%;
            left: 50%;
            width: 500px;
            height: 400px;
            margin-left: -250px;
            margin-top: -250px;
            background: #eeeeee;
            z-index: 10;
        }

        .shadow{
            position: fixed;
            top:0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.6;
            background-color: #702fa8;
            z-index: 9;
        }

        .hide{
            display: none;
        }
    </style>
</head>
<body>
    <a onclick="addElement();">添加</a>

    <table border="1">
        <tr>
            <td target="hostName">1.1.1.1</td>
            <td target="port">80</td>
            <td>
                <a class="edit">编辑</a> |
                <a>删除</a>
            </td>
        </tr>
        <tr>
            <td target="hostName">1.1.1.2</td>
            <td target="port">81</td>
            <td>
                <a class="edit">编辑</a> |
                <a>删除</a>
            </td>
        </tr>
        <tr>
            <td target="hostName">1.1.1.3</td>
            <td target="port">82</td>
            <td>
                <a class="edit">编辑</a> |
                <a>删除</a>
            </td>
        </tr>
    </table>

    <!--弹窗-->
    <div class="modal hide">
        <div >
            <input name="hostName" type="text" />
            <input name="port" type="text" />
        </div>
        <div>
            <input type="button" value="取消" onclick="cancelModal()">
        </div>
    </div>
    <!--遮罩层-->
    <div class="shadow hide">

    </div>

</body>
<script src="../../../../static/jquery-3.2.1/jquery-3.2.1.js"></script>
<script>
    function addElement() {
        // $(".modal,.shadow").removeClass("hide");
        $(".modal,.shadow").show('slow');
    }

    function cancelModal() {
        // $(".modal,.shadow").addClass("hide");
        $(".modal,.shadow").hide('slow');
    }
    $(".edit").click(function () {
        $(".modal,.shadow").show('slow');
        // var tds = $(this).parent().prevAll();
        // var port = $(tds[0]).text();
        // var host = $(tds[1]).text();
        // console.log(host,port);
        // $('modal input,[name="hostName"]').val(host);
        // $('modal input,[name="port"]').val(port);
        var tds = $(this).parent().prevAll();
        tds.each(function () {
            var text = $(this).text();
            var m_tar = $(this).attr('target');
            var temp = '.modal input[name="' + m_tar + '"]';
            console.log(temp);
            $(temp).val(text);
        })
    })
</script>
</html>